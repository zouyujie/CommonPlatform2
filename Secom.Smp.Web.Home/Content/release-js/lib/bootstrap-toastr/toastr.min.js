/*
 * Toastr
 * Copyright 2012-2014 John Papa and Hans Fjällemark.
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * Author: John Papa and Hans Fjällemark
 * ARIA Support: Greta Krafsig
 * Project: https://github.com/CodeSeven/toastr
 */

(function(e){e(["jquery"],function(e){return function(){function t(t,n){t||(t=i()),o=e("#"+t.containerId);if(o.length)return o;if(n){var r=t;o=e("<div/>").attr("id",r.containerId).addClass(r.positionClass).attr("aria-live","polite").attr("role","alert"),o.appendTo(e(r.target))}return o}function n(t,n){return t&&0===e(":focus",t).length?(t[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){s(t)}}),!0):!1}function r(n){function r(t){if(!e(":focus",v).length||t)return v[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){s(v),f.onHidden&&"hidden"!==w.state&&f.onHidden(),w.state="hidden",w.endTime=new Date,u&&u(w)}})}var f=i(),c=n.iconClass||f.iconClass;if(f.preventDuplicates){if(n.message===l)return;l=n.message}"undefined"!=typeof n.optionsOverride&&(f=e.extend(f,n.optionsOverride),c=n.optionsOverride.iconClass||c),a++,o=t(f,!0);var p=null,v=e("<div/>"),g=e("<div/>"),y=e("<div/>"),b=e(f.closeHtml),w={toastId:a,state:"visible",startTime:new Date,options:f,map:n};return n.iconClass&&v.addClass(f.toastClass).addClass(c),n.title&&(g.append(n.title).addClass(f.titleClass),v.append(g)),n.message&&(y.append(n.message).addClass(f.messageClass),v.append(y)),f.closeButton&&(b.addClass("toast-close-button").attr("role","button"),v.prepend(b)),v.hide(),f.newestOnTop?o.prepend(v):o.append(v),v[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),0<f.timeOut&&(p=setTimeout(r,f.timeOut)),v.hover(function(){clearTimeout(p),v.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})},function(){if(0<f.timeOut||0<f.extendedTimeOut)p=setTimeout(r,f.extendedTimeOut)}),!f.onclick&&f.tapToDismiss&&v.click(r),f.closeButton&&b&&b.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),r(!0)}),f.onclick&&v.click(function(){f.onclick(),r()}),u&&u(w),f.debug&&console&&console.log(w),v}function i(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:1e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0,preventDuplicates:!1},f.options)}function s(e){o||(o=t()),e.is(":visible")||(e.remove(),0===o.children().length&&o.remove())}var o,u,a=0,f={clear:function(r){var s=i();o||t(s);if(!n(r,s)){r=o.children();for(var u=r.length-1;0<=u;u--)n(e(r[u]),s)}},remove:function(n){var r=i();o||t(r),n&&0===e(":focus",n).length?s(n):o.children().length&&o.remove()},error:function(e,t,n){return r({type:"error",iconClass:i().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:t,info:function(e,t,n){return r({type:"info",iconClass:i().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){u=e},success:function(e,t,n){return r({type:"success",iconClass:i().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.0",warning:function(e,t,n){return r({type:"warning",iconClass:i().iconClasses.warning,message:e,optionsOverride:n,title:t})}},l;return f}()})})("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)});