/**
* @version: 2.1.13
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2015 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: https://www.improvely.com/
*/

(function(e,t){if(typeof define=="function"&&define.amd)define(["moment","jquery","exports"],function(n,r,i){e.daterangepicker=t(e,i,n,r)});else if(typeof exports!="undefined"){var n=require("moment"),r=typeof window!="undefined"?window.jQuery:undefined;if(!r)try{r=require("jquery"),r.fn||(r.fn={})}catch(i){if(!r)throw new Error("jQuery dependency not found")}t(e,exports,n,r)}else e.daterangepicker=t(e,{},e.moment||moment,e.jQuery||e.Zepto||e.ender||e.$)})(this||{},function(e,t,n,r){var i=function(e,t,i){this.parentEl="body",this.element=r(e),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={};if(typeof t!="object"||t===null)t={};t=r.extend(this.element.data(),t),typeof t.template!="string"&&(t.template='<div class="daterangepicker dropdown-menu"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="fa fa-calendar"></i><div class="calendar-time"><div></div><i class="fa fa-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn" disabled="disabled" type="button"></button> <button class="cancelBtn" type="button"></button></div></div></div>'),this.parentEl=t.parentEl&&r(t.parentEl).length?r(t.parentEl):r(this.parentEl),this.container=r(t.template).appendTo(this.parentEl),typeof t.locale=="object"&&(typeof t.locale.format=="string"&&(this.locale.format=t.locale.format),typeof t.locale.separator=="string"&&(this.locale.separator=t.locale.separator),typeof t.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),typeof t.locale.monthNames=="object"&&(this.locale.monthNames=t.locale.monthNames.slice()),typeof t.locale.firstDay=="number"&&(this.locale.firstDay=t.locale.firstDay),typeof t.locale.applyLabel=="string"&&(this.locale.applyLabel=t.locale.applyLabel),typeof t.locale.cancelLabel=="string"&&(this.locale.cancelLabel=t.locale.cancelLabel),typeof t.locale.weekLabel=="string"&&(this.locale.weekLabel=t.locale.weekLabel),typeof t.locale.customRangeLabel=="string"&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),typeof t.startDate=="string"&&(this.startDate=n(t.startDate,this.locale.format)),typeof t.endDate=="string"&&(this.endDate=n(t.endDate,this.locale.format)),typeof t.minDate=="string"&&(this.minDate=n(t.minDate,this.locale.format)),typeof t.maxDate=="string"&&(this.maxDate=n(t.maxDate,this.locale.format)),typeof t.startDate=="object"&&(this.startDate=n(t.startDate)),typeof t.endDate=="object"&&(this.endDate=n(t.endDate)),typeof t.minDate=="object"&&(this.minDate=n(t.minDate)),typeof t.maxDate=="object"&&(this.maxDate=n(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof t.applyClass=="string"&&(this.applyClass=t.applyClass),typeof t.cancelClass=="string"&&(this.cancelClass=t.cancelClass),typeof t.dateLimit=="object"&&(this.dateLimit=t.dateLimit),typeof t.opens=="string"&&(this.opens=t.opens),typeof t.drops=="string"&&(this.drops=t.drops),typeof t.showWeekNumbers=="boolean"&&(this.showWeekNumbers=t.showWeekNumbers),typeof t.buttonClasses=="string"&&(this.buttonClasses=t.buttonClasses),typeof t.buttonClasses=="object"&&(this.buttonClasses=t.buttonClasses.join(" ")),typeof t.showDropdowns=="boolean"&&(this.showDropdowns=t.showDropdowns),typeof t.singleDatePicker=="boolean"&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof t.timePicker=="boolean"&&(this.timePicker=t.timePicker),typeof t.timePickerSeconds=="boolean"&&(this.timePickerSeconds=t.timePickerSeconds),typeof t.timePickerIncrement=="number"&&(this.timePickerIncrement=t.timePickerIncrement),typeof t.timePicker24Hour=="boolean"&&(this.timePicker24Hour=t.timePicker24Hour),typeof t.autoApply=="boolean"&&(this.autoApply=t.autoApply),typeof t.autoUpdateInput=="boolean"&&(this.autoUpdateInput=t.autoUpdateInput),typeof t.linkedCalendars=="boolean"&&(this.linkedCalendars=t.linkedCalendars),typeof t.isInvalidDate=="function"&&(this.isInvalidDate=t.isInvalidDate);if(this.locale.firstDay!=0){var s=this.locale.firstDay;while(s>0)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--}var o,u,a;if(typeof t.startDate=="undefined"&&typeof t.endDate=="undefined"&&r(this.element).is("input[type=text]")){var f=r(this.element).val(),l=f.split(this.locale.separator);o=u=null,l.length==2?(o=n(l[0],this.locale.format),u=n(l[1],this.locale.format)):this.singleDatePicker&&f!==""&&(o=n(f,this.locale.format),u=n(f,this.locale.format)),o!==null&&u!==null&&(this.setStartDate(o),this.setEndDate(u))}if(typeof t.ranges=="object"){for(a in t.ranges){typeof t.ranges[a][0]=="string"?o=n(t.ranges[a][0],this.locale.format):o=n(t.ranges[a][0]),typeof t.ranges[a][1]=="string"?u=n(t.ranges[a][1],this.locale.format):u=n(t.ranges[a][1]),this.minDate&&o.isBefore(this.minDate)&&(o=this.minDate.clone());var c=this.maxDate;this.dateLimit&&o.clone().add(this.dateLimit).isAfter(c)&&(c=o.clone().add(this.dateLimit)),c&&u.isAfter(c)&&(u=c.clone());if(this.minDate&&u.isBefore(this.minDate)||c&&o.isAfter(c))continue;var h=document.createElement("textarea");h.innerHTML=a,rangeHtml=h.value,this.ranges[rangeHtml]=[o,u]}var p="<ul>";for(a in this.ranges)p+="<li>"+a+"</li>";p+="<li>"+this.locale.customRangeLabel+"</li>",p+="</ul>",this.container.find(".ranges").prepend(p)}typeof i=="function"&&(this.callback=i),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&typeof t.ranges!="object"?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),typeof t.ranges=="undefined"&&!this.singleDatePicker&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens);if(typeof t.ranges!="undefined"&&this.opens=="right"){var d=this.container.find(".ranges"),v=d.clone();d.remove(),this.container.find(".calendar.left").parent().prepend(v)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",r.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",r.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",r.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",r.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",r.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",r.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",r.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",r.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",r.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",r.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",r.proxy(this.clickCancel,this)).on("click.daterangepicker","li",r.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",r.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",r.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":r.proxy(this.show,this),"focus.daterangepicker":r.proxy(this.show,this),"keyup.daterangepicker":r.proxy(this.elementChanged,this),"keydown.daterangepicker":r.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",r.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};i.prototype={constructor:i,setStartDate:function(e){typeof e=="string"&&(this.startDate=n(e,this.locale.format)),typeof e=="object"&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){typeof e=="string"&&(this.endDate=n(e,this.locale.format)),typeof e=="object"&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!(!(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month)||this.startDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.startDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")!=this.leftCalendar.month.format("YYYY-MM")&&this.endDate.format("YYYY-MM")!=this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),!!this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;if(!this.timePicker24Hour){var r=this.container.find(".left .ampmselect").val();r==="PM"&&e<12&&(e+=12),r==="AM"&&e===12&&(e=0)}}else{e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;if(!this.timePicker24Hour){var r=this.container.find(".right .ampmselect").val();r==="PM"&&e<12&&(e+=12),r==="AM"&&e===12&&(e=0)}}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active");if(this.endDate==null)return;var i=!0,s=0;for(var o in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[o][0])&&this.endDate.isSame(this.ranges[o][1])){i=!1,this.chosenLabel=this.container.find(".ranges li:eq("+s+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[o][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[o][1].format("YYYY-MM-DD")){i=!1,this.chosenLabel=this.container.find(".ranges li:eq("+s+")").addClass("active").html();break}s++}i&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},renderCalendar:function(e){var t=e=="left"?this.leftCalendar:this.rightCalendar,i=t.month.month(),s=t.month.year(),o=t.month.hour(),u=t.month.minute(),a=t.month.second(),f=n([s,i]).daysInMonth(),l=n([s,i,1]),c=n([s,i,f]),h=n(l).subtract(1,"month").month(),p=n(l).subtract(1,"month").year(),d=n([p,h]).daysInMonth(),v=l.day(),t=[];t.firstDay=l,t.lastDay=c;for(var m=0;m<6;m++)t[m]=[];var g=d-v+this.locale.firstDay+1;g>d&&(g-=7),v==this.locale.firstDay&&(g=d-6);var y=n([p,h,g,12,u,a]),b,w;for(var m=0,b=0,w=0;m<42;m++,b++,y=n(y).add(24,"hour"))m>0&&b%7===0&&(b=0,w++),t[w][b]=y.clone().hour(o).minute(u).second(a),y.hour(12),this.minDate&&t[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[w][b].isBefore(this.minDate)&&e=="left"&&(t[w][b]=this.minDate.clone()),this.maxDate&&t[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[w][b].isAfter(this.maxDate)&&e=="right"&&(t[w][b]=this.maxDate.clone());e=="left"?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var E=e=="left"?this.minDate:this.startDate,S=this.maxDate,x=e=="left"?this.startDate:this.endDate,T='<table class="table-condensed">';T+="<thead>",T+="<tr>",this.showWeekNumbers&&(T+="<th></th>"),!!E&&!E.isBefore(t.firstDay)||!!this.linkedCalendars&&e!="left"?T+="<th></th>":T+='<th class="prev available"><i class="fa fa-angle-left"></i></th>';var N=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");if(this.showDropdowns){var C=t[1][1].month(),k=t[1][1].year(),L=S&&S.year()||k+5,A=E&&E.year()||k-50,O=k==A,M=k==L,_='<select class="monthselect">';for(var D=0;D<12;D++)(!O||D>=E.month())&&(!M||D<=S.month())?_+="<option value='"+D+"'"+(D===C?" selected='selected'":"")+">"+this.locale.monthNames[D]+"</option>":_+="<option value='"+D+"'"+(D===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[D]+"</option>";_+="</select>";var P='<select class="yearselect">';for(var H=A;H<=L;H++)P+='<option value="'+H+'"'+(H===k?' selected="selected"':"")+">"+H+"</option>";P+="</select>",N=_+P}T+='<th colspan="5" class="month">'+N+"</th>",(!S||S.isAfter(t.lastDay))&&(!this.linkedCalendars||e=="right"||this.singleDatePicker)?T+='<th class="next available"><i class="fa fa-angle-right"></i></th>':T+="<th></th>",T+="</tr>",T+="<tr>",this.showWeekNumbers&&(T+='<th class="week">'+this.locale.weekLabel+"</th>"),r.each(this.locale.daysOfWeek,function(e,t){T+="<th>"+t+"</th>"}),T+="</tr>",T+="</thead>",T+="<tbody>";if(this.endDate==null&&this.dateLimit){var B=this.startDate.clone().add(this.dateLimit).endOf("day");if(!S||B.isBefore(S))S=B}for(var w=0;w<6;w++){T+="<tr>",this.showWeekNumbers&&(T+='<td class="week">'+t[w][0].week()+"</td>");for(var b=0;b<7;b++){var j=[];t[w][b].isSame(new Date,"day")&&j.push("today"),t[w][b].isoWeekday()>5&&j.push("weekend"),t[w][b].month()!=t[1][1].month()&&j.push("off"),this.minDate&&t[w][b].isBefore(this.minDate,"day")&&j.push("off","disabled"),S&&t[w][b].isAfter(S,"day")&&j.push("off","disabled"),this.isInvalidDate(t[w][b])&&j.push("off","disabled"),t[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&j.push("active","start-date"),this.endDate!=null&&t[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&j.push("active","end-date"),this.endDate!=null&&t[w][b]>this.startDate&&t[w][b]<this.endDate&&j.push("in-range");var F="",I=!1;for(var m=0;m<j.length;m++)F+=j[m]+" ",j[m]=="disabled"&&(I=!0);I||(F+="available"),T+='<td class="'+F.replace(/^\s+|\s+$/g,"")+'" data-title="'+"r"+w+"c"+b+'">'+t[w][b].date()+"</td>"}T+="</tr>"}T+="</tbody>",T+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(T)},renderTimePicker:function(e){var t,n,r,i=this.maxDate;this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate))&&(i=this.startDate.clone().add(this.dateLimit)),e=="left"?(n=this.startDate.clone(),r=this.minDate):e=="right"&&(n=this.endDate?this.endDate.clone():this.startDate.clone(),r=this.startDate),t='<select class="hourselect">';var s=this.timePicker24Hour?0:1,o=this.timePicker24Hour?23:12;for(var u=s;u<=o;u++){var a=u;this.timePicker24Hour||(a=n.hour()>=12?u==12?12:u+12:u==12?0:u);var f=n.clone().hour(a),l=!1;r&&f.minute(59).isBefore(r)&&(l=!0),i&&f.minute(0).isAfter(i)&&(l=!0),a==n.hour()&&!l?t+='<option value="'+u+'" selected="selected">'+u+"</option>":l?t+='<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":t+='<option value="'+u+'">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;u<60;u+=this.timePickerIncrement){var c=u<10?"0"+u:u,f=n.clone().minute(u),l=!1;r&&f.second(59).isBefore(r)&&(l=!0),i&&f.second(0).isAfter(i)&&(l=!0),n.minute()==u&&!l?t+='<option value="'+u+'" selected="selected">'+c+"</option>":l?t+='<option value="'+u+'" disabled="disabled" class="disabled">'+c+"</option>":t+='<option value="'+u+'">'+c+"</option>"}t+="</select> ";if(this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;u<60;u++){var c=u<10?"0"+u:u,f=n.clone().second(u),l=!1;r&&f.isBefore(r)&&(l=!0),i&&f.isAfter(i)&&(l=!0),n.second()==u&&!l?t+='<option value="'+u+'" selected="selected">'+c+"</option>":l?t+='<option value="'+u+'" disabled="disabled" class="disabled">'+c+"</option>":t+='<option value="'+u+'">'+c+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var h="",p="";r&&n.clone().hour(12).minute(0).second(0).isBefore(r)&&(h=' disabled="disabled" class="disabled"'),i&&n.clone().hour(0).minute(0).second(0).isAfter(i)&&(p=' disabled="disabled" class="disabled"'),n.hour()>=12?t+='<option value="AM"'+h+'>AM</option><option value="PM" selected="selected"'+p+">PM</option>":t+='<option value="AM" selected="selected"'+h+'>AM</option><option value="PM"'+p+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},move:function(){var e={top:0,left:0},t,n=r(window).width();this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),this.drops=="up"?t=this.element.offset().top-this.container.outerHeight()-e.top:t=this.element.offset().top+this.element.outerHeight()-e.top,this.container[this.drops=="up"?"addClass":"removeClass"]("dropup"),this.opens=="left"?(this.container.css({top:t,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):this.opens=="center"?(this.container.css({top:t,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:t,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>r(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){if(this.isShowing)return;this._outsideClickProxy=r.proxy(function(e){this.outsideClick(e)},this),r(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),r(window).on("resize.daterangepicker",r.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0},hide:function(e){if(!this.isShowing)return;this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))&&this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),r(document).off(".daterangepicker"),r(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=r(e.target);if(e.type=="focusin"||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length)return;this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}},clickRange:function(e){var t=e.target.innerHTML;this.chosenLabel=t;if(t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var t=r(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;if(!r(e.target).hasClass("available"))return;var t=r(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),s=r(e.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];this.endDate?this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format));var u=this.leftCalendar,a=this.rightCalendar,f=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,t){if(r(t).hasClass("week"))return;var n=r(t).attr("data-title"),i=n.substr(1,1),s=n.substr(3,1),l=r(t).parents(".calendar"),c=l.hasClass("left")?u.calendar[i][s]:a.calendar[i][s];c.isAfter(f)&&c.isBefore(o)?r(t).addClass("in-range"):r(t).removeClass("in-range")})},clickDate:function(e){if(!r(e.target).hasClass("available"))return;var t=r(e.target).attr("data-title"),n=t.substr(1,1),i=t.substr(3,1),s=r(e.target).parents(".calendar"),o=s.hasClass("left")?this.leftCalendar.calendar[n][i]:this.rightCalendar.calendar[n][i];if(this.endDate||o.isBefore(this.startDate)){if(this.timePicker){var u=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var a=s.find(".ampmselect").val();a==="PM"&&u<12&&(u+=12),a==="AM"&&u===12&&(u=0)}var f=parseInt(this.container.find(".left .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.endDate=null,this.setStartDate(o.clone())}else{if(this.timePicker){var u=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".right .ampmselect").val();a==="PM"&&u<12&&(u+=12),a==="AM"&&u===12&&(u=0)}var f=parseInt(this.container.find(".right .minuteselect").val(),10),l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.setEndDate(o.clone()),this.autoApply&&this.clickApply()}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var t=r(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",i=this.container.find(".calendar."+n),s=parseInt(i.find(".monthselect").val(),10),o=i.find(".yearselect").val();!t&&(o<this.startDate.year()||o==this.startDate.year()&&s<this.startDate.month())&&(s=this.startDate.month(),o=this.startDate.year()),this.minDate&&(o<this.minDate.year()||o==this.minDate.year()&&s<this.minDate.month())&&(s=this.minDate.month(),o=this.minDate.year()),this.maxDate&&(o>this.maxDate.year()||o==this.maxDate.year()&&s>this.maxDate.month())&&(s=this.maxDate.month(),o=this.maxDate.year()),t?(this.leftCalendar.month.month(s).year(o),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(s).year(o),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var t=r(e.target).closest(".calendar"),n=t.hasClass("left"),i=parseInt(t.find(".hourselect").val(),10),s=parseInt(t.find(".minuteselect").val(),10),o=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var u=t.find(".ampmselect").val();u==="PM"&&i<12&&(i+=12),u==="AM"&&i===12&&(i=0)}if(n){var a=this.startDate.clone();a.hour(i),a.minute(s),a.second(o),this.setStartDate(a),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)&&this.setEndDate(a.clone())}else if(this.endDate){var f=this.endDate.clone();f.hour(i),f.minute(s),f.second(o),this.setEndDate(f)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var t=r(e.target).closest(".calendar").hasClass("right"),i=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),s=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);i.isValid()&&s.isValid()&&(t&&s.isBefore(i)&&(i=s.clone()),this.setStartDate(i),this.setEndDate(s),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(!this.element.is("input"))return;if(!this.element.val().length)return;if(this.element.val().length<this.locale.format.length)return;var e=this.element.val().split(this.locale.separator),t=null,r=null;e.length===2&&(t=n(e[0],this.locale.format),r=n(e[1],this.locale.format));if(this.singleDatePicker||t===null||r===null)t=n(this.element.val(),this.locale.format),r=t;if(!t.isValid()||!r.isValid())return;this.setStartDate(t),this.setEndDate(r),this.updateView()},keydown:function(e){(e.keyCode===9||e.keyCode===13)&&this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},r.fn.daterangepicker=function(e,t){return this.each(function(){var n=r(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new i(n,e,t))}),this}});