var QuickSidebar=function(){var e=function(){$(".dropdown-quick-sidebar-toggler a, .page-quick-sidebar-toggler, .quick-sidebar-toggler").click(function(e){$("body").toggleClass("page-quick-sidebar-open")})},t=function(){var e=$(".page-quick-sidebar-wrapper"),t=e.find(".page-quick-sidebar-chat"),n=function(){var n=e.find(".page-quick-sidebar-chat-users"),r;r=e.height()-e.find(".nav-tabs").outerHeight(!0),App.destroySlimScroll(n),n.attr("data-height",r),App.initSlimScroll(n);var i=t.find(".page-quick-sidebar-chat-user-messages"),s=r-t.find(".page-quick-sidebar-chat-user-form").outerHeight(!0);s-=t.find(".page-quick-sidebar-nav").outerHeight(!0),App.destroySlimScroll(i),i.attr("data-height",s),App.initSlimScroll(i)};n(),App.addResizeHandler(n),e.find(".page-quick-sidebar-chat-users .media-list > .media").click(function(){t.addClass("page-quick-sidebar-content-item-shown")}),e.find(".page-quick-sidebar-chat-user .page-quick-sidebar-back-to-list").click(function(){t.removeClass("page-quick-sidebar-content-item-shown")});var r=function(e){e.preventDefault();var n=t.find(".page-quick-sidebar-chat-user-messages"),r=t.find(".page-quick-sidebar-chat-user-form .form-control"),i=r.val();if(i.length===0)return;var s=function(e,t,n,r,i){var s="";return s+='<div class="post '+e+'">',s+='<img class="avatar" alt="" src="'+Layout.getLayoutImgPath()+r+'.jpg"/>',s+='<div class="message">',s+='<span class="arrow"></span>',s+='<a href="#" class="name">Bob Nilson</a>&nbsp;',s+='<span class="datetime">'+t+"</span>",s+='<span class="body">',s+=i,s+="</span>",s+="</div>",s+="</div>",s},o=new Date,u=s("out",o.getHours()+":"+o.getMinutes(),"Bob Nilson","avatar3",i);u=$(u),n.append(u),n.slimScroll({scrollTo:"1000000px"}),r.val(""),setTimeout(function(){var e=new Date,t=s("in",e.getHours()+":"+e.getMinutes(),"Ella Wong","avatar2","Lorem ipsum doloriam nibh...");t=$(t),n.append(t),n.slimScroll({scrollTo:"1000000px"})},3e3)};t.find(".page-quick-sidebar-chat-user-form .btn").click(r),t.find(".page-quick-sidebar-chat-user-form .form-control").keypress(function(e){if(e.which==13)return r(e),!1})},n=function(){var e=$(".page-quick-sidebar-wrapper"),t=function(){var t=e.find(".page-quick-sidebar-alerts-list"),n;n=e.height()-80-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(t),t.attr("data-height",n),App.initSlimScroll(t)};t(),App.addResizeHandler(t)},r=function(){var e=$(".page-quick-sidebar-wrapper"),t=function(){var t=e.find(".page-quick-sidebar-settings-list"),n;n=e.height()-80-e.find(".nav-justified > .nav-tabs").outerHeight(),App.destroySlimScroll(t),t.attr("data-height",n),App.initSlimScroll(t)};t(),App.addResizeHandler(t)};return{init:function(){e(),t(),n(),r()}}}();App.isAngularJsApp()===!1&&jQuery(document).ready(function(){QuickSidebar.init()});