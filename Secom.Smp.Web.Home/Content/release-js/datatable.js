var Datatable=function(){var e,t,n,r,i,s=!1,o={},u,a=function(){var t=$('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).size(),r=e.dataTable.language.metronicGroupActions;t>0?$(".table-group-actions > span",i).text(r.replace("_TOTAL_",t)):$(".table-group-actions > span",i).text("")};return{init:function(f){if(!$().dataTable)return;u=this,f=$.extend(!0,{src:"",filterApplyAction:"filter",filterCancelAction:"filter_cancel",resetGroupActionInputOnSuccess:!0,loadingMessage:"Loading...",dataTable:{dom:"<'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'<'table-group-actions pull-right'>>r><'table-responsive't><'row'<'col-md-8 col-sm-12'pli><'col-md-4 col-sm-12'>>",pageLength:10,language:{metronicGroupActions:"_TOTAL_ records selected:  ",metronicAjaxRequestGeneralError:"Could not complete request. Please check your internet connection",lengthMenu:"<span class='seperator'>|</span>View _MENU_ records",info:"<span class='seperator'>|</span>Found total _TOTAL_ records",infoEmpty:"No records found to show",emptyTable:"No data available in table",zeroRecords:"No matching records found",paginate:{previous:"Prev",next:"Next",last:"Last",first:"First",page:"Page",pageOf:"of"}},orderCellsTop:!0,columnDefs:[{orderable:!1,targets:[0]}],pagingType:"bootstrap_extended",autoWidth:!1,processing:!1,serverSide:!0,ajax:{url:"",type:"POST",timeout:2e4,data:function(t){$.each(o,function(e,n){t[e]=n}),App.blockUI({message:e.loadingMessage,target:r,overlayColor:"none",cenrerY:!0,boxed:!0})},dataSrc:function(t){return t.customActionMessage&&App.alert({type:t.customActionStatus=="OK"?"success":"danger",icon:t.customActionStatus=="OK"?"check":"warning",message:t.customActionMessage,container:i,place:"prepend"}),t.customActionStatus&&e.resetGroupActionInputOnSuccess&&$(".table-group-action-input",i).val(""),$(".group-checkable",n).size()===1&&$(".group-checkable",n).attr("checked",!1),e.onSuccess&&e.onSuccess.call(undefined,u,t),App.unblockUI(r),t.data},error:function(){e.onError&&e.onError.call(undefined,u),App.alert({type:"danger",icon:"warning",message:e.dataTable.language.metronicAjaxRequestGeneralError,container:i,place:"prepend"}),App.unblockUI(r)}},drawCallback:function(t){s===!1&&(s=!0,n.show()),a(),e.onDataLoad&&e.onDataLoad.call(undefined,u)}}},f),e=f,n=$(f.src),r=n.parents(".table-container");var l=$.fn.dataTableExt.oStdClasses;$.fn.dataTableExt.oStdClasses.sWrapper=$.fn.dataTableExt.oStdClasses.sWrapper+" dataTables_extended_wrapper",$.fn.dataTableExt.oStdClasses.sFilterInput="form-control input-xs input-sm input-inline",$.fn.dataTableExt.oStdClasses.sLengthSelect="form-control input-xs input-sm input-inline",t=n.DataTable(f.dataTable),$.fn.dataTableExt.oStdClasses.sWrapper=l.sWrapper,$.fn.dataTableExt.oStdClasses.sFilterInput=l.sFilterInput,$.fn.dataTableExt.oStdClasses.sLengthSelect=l.sLengthSelect,i=n.parents(".dataTables_wrapper"),$(".table-actions-wrapper",r).size()===1&&($(".table-group-actions",i).html($(".table-actions-wrapper",r).html()),$(".table-actions-wrapper",r).remove()),$(".group-checkable",n).change(function(){var e=n.find('tbody > tr > td:nth-child(1) input[type="checkbox"]'),t=$(this).prop("checked");$(e).each(function(){$(this).prop("checked",t)}),a()}),n.on("change",'tbody > tr > td:nth-child(1) input[type="checkbox"]',function(){a()}),n.on("click",".filter-submit",function(e){e.preventDefault(),u.submitFilter()}),n.on("click",".filter-cancel",function(e){e.preventDefault(),u.resetFilter()})},submitFilter:function(){u.setAjaxParam("action",e.filterApplyAction),$('textarea.form-filter, select.form-filter, input.form-filter:not([type="radio"],[type="checkbox"])',n).each(function(){u.setAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="checkbox"]:checked',n).each(function(){u.addAjaxParam($(this).attr("name"),$(this).val())}),$('input.form-filter[type="radio"]:checked',n).each(function(){u.setAjaxParam($(this).attr("name"),$(this).val())}),t.ajax.reload()},resetFilter:function(){$("textarea.form-filter, select.form-filter, input.form-filter",n).each(function(){$(this).val("")}),$('input.form-filter[type="checkbox"]',n).each(function(){$(this).attr("checked",!1)}),u.clearAjaxParams(),u.addAjaxParam("action",e.filterCancelAction),t.ajax.reload()},getSelectedRowsCount:function(){return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).size()},getSelectedRows:function(){var e=[];return $('tbody > tr > td:nth-child(1) input[type="checkbox"]:checked',n).each(function(){e.push($(this).val())}),e},setAjaxParam:function(e,t){o[e]=t},addAjaxParam:function(e,t){o[e]||(o[e]=[]),skip=!1;for(var n=0;n<o[e].length;n++)o[e][n]===t&&(skip=!0);skip===!1&&o[e].push(t)},clearAjaxParams:function(e,t){o={}},getDataTable:function(){return t},getTableWrapper:function(){return i},gettableContainer:function(){return r},getTable:function(){return n}}};