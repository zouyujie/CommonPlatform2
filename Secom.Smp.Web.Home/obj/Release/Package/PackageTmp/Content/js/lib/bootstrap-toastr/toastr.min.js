/*
 * Toastr
 * Copyright 2012-2014 John Papa and Hans Fjällemark.
 * All Rights Reserved.
 * Use, reproduction, distribution, and modification of this code is subject to the terms and
 * conditions of the MIT license, available at http://www.opensource.org/licenses/mit-license.php
 *
 * Author: John Papa and Hans Fjällemark
 * ARIA Support: Greta Krafsig
 * Project: https://github.com/CodeSeven/toastr
 */(function(g){g(["jquery"],function(e){return function(){function m(b,c){b||(b=h());d=e("#"+b.containerId);if(d.length)return d;if(c){var a=b;d=e("\x3cdiv/\x3e").attr("id",a.containerId).addClass(a.positionClass).attr("aria-live","polite").attr("role","alert");d.appendTo(e(a.target))}return d}function g(b,c){return b&&0===e(":focus",b).length?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){r(b)}}),!0):!1}function k(b){function c(b){if(!e(":focus",f).length||b)return f[a.hideMethod]({duration:a.hideDuration,easing:a.hideEasing,complete:function(){r(f);if(a.onHidden&&"hidden"!==l.state)a.onHidden();l.state="hidden";l.endTime=new Date;n&&n(l)}})}var a=h(),g=b.iconClass||a.iconClass;if(a.preventDuplicates){if(b.message===t)return;t=b.message}"undefined"!==typeof b.optionsOverride&&(a=e.extend(a,b.optionsOverride),g=b.optionsOverride.iconClass||g);u++;d=m(a,!0);var k=null,f=e("\x3cdiv/\x3e"),p=e("\x3cdiv/\x3e"),v=e("\x3cdiv/\x3e"),q=e(a.closeHtml),l={toastId:u,state:"visible",startTime:new Date,options:a,map:b};b.iconClass&&f.addClass(a.toastClass).addClass(g);b.title&&(p.append(b.title).addClass(a.titleClass),f.append(p));b.message&&(v.append(b.message).addClass(a.messageClass),f.append(v));a.closeButton&&(q.addClass("toast-close-button").attr("role","button"),f.prepend(q));f.hide();a.newestOnTop?d.prepend(f):d.append(f);f[a.showMethod]({duration:a.showDuration,easing:a.showEasing,complete:a.onShown});0<a.timeOut&&(k=setTimeout(c,a.timeOut));f.hover(function(){clearTimeout(k);f.stop(!0,!0)[a.showMethod]({duration:a.showDuration,easing:a.showEasing})},function(){if(0<a.timeOut||0<a.extendedTimeOut)k=setTimeout(c,a.extendedTimeOut)});!a.onclick&&a.tapToDismiss&&f.click(c);a.closeButton&&q&&q.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&!0!==a.cancelBubble&&(a.cancelBubble=!0);c(!0)});a.onclick&&f.click(function(){a.onclick();c()});n&&n(l);a.debug&&console&&console.log(l);return f}function h(){return e.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1E3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1E3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:1E3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"\x3cbutton\x3e\x26times;\x3c/button\x3e",newestOnTop:!0,preventDuplicates:!1},p.options)}function r(b){d||(d=m());b.is(":visible")||(b.remove(),0===d.children().length&&d.remove())}var d,n,u=0,p={clear:function(b){var c=h();d||m(c);if(!g(b,c)){b=d.children();for(var a=b.length-1;0<=a;a--)g(e(b[a]),c)}},remove:function(b){var c=h();d||m(c);b&&0===e(":focus",b).length?r(b):d.children().length&&d.remove()},error:function(b,c,a){return k({type:"error",iconClass:h().iconClasses.error,message:b,optionsOverride:a,title:c})},getContainer:m,info:function(b,c,a){return k({type:"info",iconClass:h().iconClasses.info,message:b,optionsOverride:a,title:c})},options:{},subscribe:function(b){n=b},success:function(b,c,a){return k({type:"success",iconClass:h().iconClasses.success,message:b,optionsOverride:a,title:c})},version:"2.1.0",warning:function(b,c,a){return k({type:"warning",iconClass:h().iconClasses.warning,message:b,optionsOverride:a,title:c})}},t;return p}()})})("function"===typeof define&&define.amd?define:function(g,e){"undefined"!==typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)});